{% extends 'admin/base-admin.html.twig' %}

{% block title %}Evenements{% endblock %}

{% block body %}
    <h1 class="display-4">Evenements</h1>

    <p>
        Retrouvez sur cette page la liste des événements regroupant les sondages proposés par le Lycée Marcelle Pardé.
        Vous pouvez en ajouter de nouveaux, editer ceux qui existent ou bien les supprimer.
    </p>

    <div class="row">
        <div class="card card-add">
            <a href="{{ path('addEvent') }}"><img src="{{ asset('img/icon/add.png') }}" class="card-add-img"/></a>
        </div>
        {% for event in events %}
            <div class="card card-basic">
                <h2 class="card-table-title">{{ event.title }}</h2>
                <hr>
                <div class="flex-end">
                    <div class="col-12">
                        <a data-toggle="modal" data-target="#removeEventPopUp{{ event.id }}" id="delete-event" class="btn btn-danger btn-block"><img src="{{ asset('img/icon/remove.png') }}" class="icon" alt=""/>Suppression</a>
                    </div>
                    <div class="col-12">
                        <a href="{{ path('editEvent', {'id':event.id}) }}" id="edit-event" class="btn btn-info btn-block"><img src="{{ asset('img/icon/edit.svg') }}" class="icon" alt=""/>Edition</a>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="removeEventPopUp{{ event.id }}" tabindex="-1" role="dialog" aria-labelledby="removeEventPopUpLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="removeEventPopUpLabel">Supprimer définitivement cette filière ?</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            Cette action est irréversible.
                        </div>
                        <div class="modal-footer">
                            <a href="{{ path('deleteEvent', {'id': event.id}) }}" class="btn btn-danger">Oui</a>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Non</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
