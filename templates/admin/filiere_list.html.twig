{% extends 'admin/base-admin.html.twig' %}

{% block title %}AdminController{% endblock %}

{% block body %}

    <h1 class="display-4">Filières et dispositifs</h1>

    <p>
        Retrouvez sur cette page la liste des filières et dispositifs proposés par le Lycée Marcelle Pardé.
        Vous pouvez en ajouter de nouvelles, éditer celles et ceux qui existent ou bien les supprimer.
    </p>

    <div class="row cards">

        <div class="card-deck">

            <div class="col-12 col-md-6 col-lg-3 mb-3">
                <div class="card card-add">
                    <a href="{{ path('filiere_add') }}">
                        <img src="{{ asset('img/icon/add.png') }}" class="card-add-img" alt=""/>
                    </a>
                </div>
            </div>

            {% for filiere in filieres %}
                <div class="col-12 col-md-6 col-lg-3 mb-3">
                    <div class="card" style="background-color: #444a90">
                        <div class="card-header text-center">{{ filiere.category }}</div>
                        <div class="card-body">
                            <h6 class="card-title">{{ filiere.title|slice(0, 28) }} ...</h6>
                        </div>
                        <div class="card-footer">
                            <button type="button" class="btn btn-danger btn-sm btn-block">
                                <a href="{{ path('filiere_delete', {'id': filiere.id}) }}"><i class="fas fa-trash-alt"></i> Supprimer</a>
                            </button>
                            <button type="button" class="btn btn-info btn-sm btn-block">
                                <a href="{{ path('filiere_edit', {'id': filiere.id }) }}"><i class="fas fa-edit"></i> Editer</a>
                            </button>
                            <button type="button" class="btn btn-dark btn-sm btn-block">
                                <a href="{{ path('singleQrcode', {'item': 'filiere', 'id': filiere.id, 'url': path('filiere', {'id': filiere.id, 'title': slugify(filiere.title) }) }) }}" target="_blank"><i class="fas fa-qrcode"></i> QR-Code</a>
                            </button>
                        </div>
                    </div>
                </div>
            {% endfor %}

        </div>
    </div>
{% endblock %}
