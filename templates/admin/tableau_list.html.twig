{% extends 'admin/base-admin.html.twig' %}

{% block title %}AdminController{% endblock %}

{% block body %}
    <h1 class="display-4">Tableau des Formations</h1>

    <p>
        Retrouvez sur cette page l'ensemble des lignes constituant le tableau résumant les formations proposés par le Lycée Marcelle Pardé.
        Vous pouvez en ajouter de nouvelles, éditer celles qui existent déjà ou bien les supprimer
    </p>

    <div class="row">
        <div class="card card-add">
            <a href="{{ path('tableau_add') }}"><img src="{{ asset('img/icon/add.png') }}" class="card-add-img"/></a>
        </div>
        {% for ligne in tableau %}
            <div class="card card-basic">
                <h2 class="card-table-title">{{ ligne.diplome|slice(0, 30) }} ...</h2>
                <hr>
                <div class="flex-end">
                    <div class="col-12">
                        <a id="delete-event" class="btn btn-danger btn-block" data-toggle="modal" data-target="#removeLignePopUp{{ ligne.id }}"><img src="{{ asset('img/icon/remove.png') }}" class="icon"/>Supprimer</a>

                    </div>
                    <div class="col-12">
                        <a href="{{ path('tableau_edit', {'id': ligne.id}) }}" id="edit-event" class="btn btn-info btn-block"><img src="{{ asset('img/icon/edit.svg') }}" class="icon"/>Editer</a>

                    </div>
                </div>
            </div>

            <div class="modal fade" id="removeLignePopUp{{ ligne.id }}" tabindex="-1" role="dialog" aria-labelledby="removeLignePopUpLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="removeLignePopUpLabel">Supprimer définitivement cette filière ?</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            Cette action est irréversible.
                        </div>
                        <div class="modal-footer">
                            <a href="{{ path('tableau_delete', {'id': ligne.id}) }}" class="btn btn-danger">Oui</a>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Non</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

{% endblock %}
