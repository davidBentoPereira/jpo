{% extends 'base.html.twig' %}
{% set page = 'fiche' %}
{% block title %}Fiche{% endblock %}

{% block body %}
<section class="fiche">
    {% include 'base/breadcrumb.html.twig' %}

    <div class="container product">
        <div class="row">
            <div class="col-12">
                <a class="return btn-item" href="{{ path('nosvehicules') }}">Retour à la liste</a>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="result">
                    <div>
                        <span class="nom">{{ vehicle.marque }} {{ vehicle.modele }}</span>
                        <span>{{ vehicle.version }}</span>
                    </div>
                    <span class="prix">{{ vehicle.prix|number_format(2, ',', ' ') }} €</span>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- SLIDER -->
            <div class="col-12 col-lg-7">
                <div id="slideProduit" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        {% set t = 1 %}

                        {% for photo in vehicle.photos %}
                            {% if t is same as(1) %}
                                <li data-target="#slideProduit" data-slide-to=" {{ t }}" class="active"></li>
                            {% else %}
                                <li data-target="#slideProduit" data-slide-to="{{ t }}"></li>
                            {% endif %}
                        {% endfor %}
                    </ol>
                    <div class="carousel-inner">
                        {% set i = 1 %}

                        {% for photo in vehicle.photos %}
                            {% if i is same as(1) %}
                                <div class="carousel-item active">
                                    <img class="d-block w-100" src="{{ photo }}" alt="">
                                </div>
                            {% else %}
                                <div class="carousel-item">
                                    <img class="d-block w-100" src="{{ photo }}" alt="">
                                </div>
                            {% endif %}
                            {% set i = i + 1 %}
                        {% endfor %}
                    </div>
                    <a class="carousel-control-prev" href="#slideProduit" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Précédent</span>
                    </a>
                    <a class="carousel-control-next" href="#slideProduit" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Suivant</span>
                    </a>
                </div>

                <!-- Go to www.addthis.com/dashboard to customize your tools -->
                <div class="addthis_inline_share_toolbox"></div>

            </div>
            <!-- INFOS -->
            <div class="col-12 col-lg-5 infos-vehicule">
                <div class="row">
                    <span>Référence : {{ vehicle.reference }}</span>
                </div>
                <div class="row">
                    <span class="infos-title">Description</span>
                    <p>{{ vehicle.equipements }}</p>

                </div>
                <div class="row">
                    <span class="infos-title">Informations complémentaires</span>
                    <div class="row sub-row">
                        <div class="col-12 col-md-6">
                            <p><span class="libelle">Prix :</span> {{ vehicle.prix|number_format(2, ',', ' ') }} €</p>
                            <p><span class="libelle">Kilométrage  :</span> {{ vehicle.kilometrage }} km</p>
                            <p><span class="libelle">Emissions de CO2 :</span> {{ vehicle.emissionCo2 }} g/km</p>
                            <p><span class="libelle">Nb de portes :</span> {{ vehicle.nbPortes }}</p>
                            <p><span class="libelle">Puissance réelle :</span> {{ vehicle.puissanceReelle }} ch</p>
                            <p><span class="libelle">Nombre de places :</span> {{ vehicle.nbPlaces }}</p>
                        </div>
                        <div class="col-12 col-md-6">
                            <p><span class="libelle">Année :</span> {{ vehicle.millesime }}</p>
                            <p><span class="libelle">Energie :</span> {{ vehicle.energie }}</p>
                            <!-- <p><span class="libelle">Consommation mixte :</span> </p> -->
                            <p><span class="libelle">Transmission :</span> {{ vehicle.boiteVitesse }}</p>
                            <p><span class="libelle">Puissance fiscale :</span> {{ vehicle.puissanceFiscale }} CV</p>
                            <p><span class="libelle">Carosserie :</span> {{ vehicle.carrosserie }}</p>
                            <p><span class="libelle">Garantie mécanique :</span> {{ vehicle.garantie }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-5 offset-md-7">
                <a href="{{ path('contact', {'ref': vehicle.reference, 'marque': vehicle.marque, 'modele': vehicle.modele }) }}" class="btn-item-3">Demande de renseignements pour ce véhicule</a>
            </div>
        </div>

    </div>

</section>

{% endblock %}

{% block javascripts %}
    <!-- AddThis Social Media JS -->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c2f1646c18eaff3"></script>
{% endblock %}
